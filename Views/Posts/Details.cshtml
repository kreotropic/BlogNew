@model BlogNew.Models.Post

@{
    ViewBag.Title = "Details";
}

@using Microsoft.AspNet.Identity

<div class="shadow-lg p-3 mb-5 bg-body-tertiary rounded">




    <div>
        <h1 class="mb-3 px-5">
            @Html.DisplayFor(model => model.Title)
        </h1>
    </div>

    <div class="mb-3 px-5">
        @Html.Raw(Model.Content)
    </div>




    <div class="d-flex px-5 ">
        <p class="px-2 fst-italic">Created by: </p>


        @if (Model.User != null)
        {
            @Html.ActionLink(Model.User.UserName, "Index", "Posts", new { searchString = Model.User.UserName }, new { @class = "" })
        }
        else
        {
            <p class="fst-italic px-2">
                <text>User not available</text>
            </p>
        }
        <p class="px-2 fst-italic">in </p>

        <p class="">
            @string.Format("{0:yyyy-MM-dd}", Model.CreatedAt)
        </p>


        @if (User.Identity.IsAuthenticated)
        {
            bool isCreator = Model.UserId == User.Identity.GetUserId();

            if (isCreator)
            {
                <div class="ms-auto">
                    @Html.ActionLink("Edit", "Edit", new { id = Model.PostId }, new { @class = "btn btn-primary px-2 " })
                    @Html.ActionLink("Delete", "Delete", new { id = Model.PostId }, new { @class = "btn btn-danger" })
                </div>
            }
        }
    </div>

 
    <div class="px-2">
        <div class="px-5" style="margin-bottom: 40px;">
            @Html.ActionLink("Back to List", "Index", new { @class = " link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover" })
        </div>
    </div>
</div>

<style>
    .btn{
        min-width: 70px;
    }
</style>